---
layout: posts
title: Comparing Similarity of Images using SIFT Features
date: '2013-10-14T13:49:00.000+09:00'
author: Joshua
tags:
- Computer Vision
- Research
modified_time: '2013-10-14T13:51:09.314+09:00'
blogger_id: tag:blogger.com,1999:blog-2701259639305045003.single-1241799522998362669
blogger_orig_url: https://DFIR.Science/2013/10/comparing-similarity-of-images-using.html
---

I've been playing around with <a href="http://www.vlfeat.org/" target="_blank">VLFeat</a>, and specifically SIFT to compare images using sift feature extraction. A while back I was looking at comparing files and images using <a href="https://DFIR.Science/2012/09/comparing-fuzzy-hashes-of-different.html" target="_blank">sdhash and ssdeep</a>, and they did not work well with images (which completely makes sense sense!).<br /><br />So I was looking at some computer vision implementations, and found <a href="http://programmingcomputervision.com/" target="_blank">programming computer vision with python</a>. From a basic example in the book, we can now visually compare similarity on the kitty corpus used last time.<br /><br />5a762d8cdf4f1beae208595e79990a01  /corpus/kitty_hex.jpg<br />1704cd46c5c0f994278769e533015525  /corpus/kitty_sm.jpg<br />bcbed42be68cd81b4d903d487d19d790  /corpus/kitty_text.jpg<br /><b>6d5663de34cd53e900d486a2c3b811fd  /corpus/kitty_orig.jpg</b><br />4312932e8b91b301c5f33872e0b9ad98  /corpus/kitty_whirl.jpg <br /><br />comparing  corpus/kitty_text.jpg corpus/kitty_sm.jpg number of matches =  107<br />comparing  corpus/kitty_text.jpg corpus/kitty_orig.jpg number of matches =  375<br />comparing  corpus/kitty_text.jpg corpus/kitty_hex.jpg number of matches =  375<br />comparing  corpus/kitty_text.jpg corpus/kitty_whirl.jpg number of matches =  358<br />comparing  corpus/kitty_sm.jpg corpus/kitty_orig.jpg number of matches =  108<br />comparing  corpus/kitty_sm.jpg corpus/kitty_hex.jpg number of matches =  108<br />comparing  corpus/kitty_sm.jpg corpus/kitty_whirl.jpg number of matches =  88<br />comparing  corpus/kitty_orig.jpg corpus/kitty_hex.jpg number of matches =  389<br />comparing  corpus/kitty_orig.jpg corpus/kitty_whirl.jpg number of matches =  343<br />comparing  corpus/kitty_hex.jpg corpus/kitty_whirl.jpg number of matches =  343<br /><br />Just extracting SIFT features and comparing which features match we can do pretty well at identifying similar images. As a reference, see an unrelated image compared to a kitty image:<br /><br />comparing  corpus/kitty_text.jpg corpus/cheese.jpg <b>number of matches =  0  </b><br /><br />It is interesting to note that even if the image is modified, the swirled face for example, similarity to the original image is still relatively high. The lowest performance was seen when the image size was reduced, which is probably because fewer features would be extracted from the smaller image. Note in this experiment the only image pre-processing we are doing is conversion to gray scale. We are not resizing, doing PCA or anything like that.<br /><br />I also want to point out something:<br />comparing corpus/kitty_text.jpg corpus/cheese_text.jpg number of matches = 2<br /><br />In this case there are two different images that have a small bit of text inserted into the image. Feature detection was able to determine some similarity (the text looked the same) on completely different images. This could potentially be used to determine if a string or watermark was added to a group of pictures in a directory.<br /><br />