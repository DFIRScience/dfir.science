---
layout: posts
title: CarvFS on Mac OSx
date: '2010-09-03T22:08:00.000+09:00'
author: Joshua
tags:
- HowTo
modified_time: '2015-08-24T22:35:19.339+09:00'
blogger_id: tag:blogger.com,1999:blog-2701259639305045003.single-737778824626584969
blogger_orig_url: https://DFIR.Science/2010/09/carvfs-on-mac-osx.html
---

A while ago I briefly used CarvFS on a linux system for testing. It was nice. Zero-storage carving can come in handy, especially when you are dealing with <a href="https://DFIR.Science/search/label/ATOM">live CD systems</a>. But installing on Mac would make experimentation and testing a bit more handy than running a VM. If you are reading this you might have had the experience of trying to compile CarvFS on Mac, have failed, and are stuck. Fear not!<br />Error when compiling on Mac<br /><blockquote>CMake Error at CMakeLists.txt:21 (MESSAGE):<br />No compatible (&gt;= 1.0.0) version of libcarvpath found</blockquote><br />First, a blog I really enjoy <a href="http://computer.forensikblog.de/en/">int for(ensic) blog</a> has notes and downloads to install via Darwin ports. These can be found here: <a href="http://computer.forensikblog.de/en/2010/08/carvfs_on_a_mac.html">http://computer.forensikblog.de/en/2010/08/carvfs_on_a_mac.html</a><br />*note - if you use the Darwin ports method he uses patches for libcarvpath, carvfs, and the ewf module that I do not use!<br /><br />But me being stubborn, I don't like to use Darwin ports since I can compile what I want 95% of the time. Welcome to the 5%. So looking at forensikblog's port file you can see what you need to change. By the errors it looks like it is only a library file, but it is also a bit more. So here is my non-Darwin ports CarvFS tutorial:<br /><ul><br /><li>Install cmake: <a href="http://www.cmake.org/cmake/resources/software.html">http://www.cmake.org/cmake/resources/software.html</a></li><br /><li>Install FUSE: <a href="http://code.google.com/p/macfuse/">http://code.google.com/p/macfuse/</a></li><br /><li>Install libcarvpath: <a href="http://sourceforge.net/projects/carvpath/files/LibCarvPath/libcarvpath1.0.0.tgz/download">http://sourceforge.net/projects/carvpath/files/LibCarvPath/libcarvpath1.0.0.tgz/download</a></li></ul><ul><li>Download and extract carvfs: <a href="http://sourceforge.net/projects/carvpath/files/">http://sourceforge.net/projects/carvpath/files/</a></li></ul><br />In the carvfs directory there is a 'src' sub-folder. Inside that replace the CMakeLists.txt file with this one [broken link, sorry]<br /><br />Edit 'carvfs.c' where it says<br /><blockquote>sprintf(imgtypelib,"libmod%s.so",imgtype);</blockquote><br />to be<br /><blockquote>sprintf(imgtypelib,"libmod%s.<strong>dylib</strong>",imgtype);</blockquote><br />Then in the main carvfs directory run the command:<br /><blockquote><br /><div style="text-align: left;">cmake -DCMAKE_INCLUDE_PATH:PATH=/usr/local/include -DCMAKE_LIBRARY_PATH:PATH=/usr/local/lib -DCMAKE_INSTALL_PREFIX:PATH=/usr/local -DCMAKE_VERBOSE_MAKEFILE:BOOL=ON src</div><br /></blockquote><br />If everything is ok, you will get a make file. Then you just do the standard 'make &amp;&amp; sudo make install'<br /><br />Thanks again to <a href="http://computer.forensikblog.de/en/">int for(ensic) blog</a>.