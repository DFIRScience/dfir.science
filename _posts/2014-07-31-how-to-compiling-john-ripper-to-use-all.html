---
layout: single
title: "How-to - Compiling John the Ripper to use all your processors for password cracking"
date: '2014-07-31T16:00:00.000+09:00'

tags:
- Linux
- Password Cracking
- HowTo
modified_time: '2015-08-24T22:35:19.132+09:00'
thumbnail: http://1.bp.blogspot.com/-WGf9KhJiN40/U9TiU7AzjFI/AAAAAAAAAzc/Az5kBdT-y0k/s72-c/jtr.png
blogger_id: tag:blogger.com,1999:blog-2701259639305045003.single-244795741634804313
blogger_orig_url: https://DFIR.Science/2014/07/how-to-compiling-john-ripper-to-use-all.html
---

<div style="line-height: 100%; margin-bottom: 0in;">John the Ripper is a fast password cracker, currently available for many flavors of Unix, Windows, DOS, BeOS, and OpenVMS. Its primary purpose is to detect weak Unix passwords. Besides several crypt(3) password hash types most commonly found on various Unix systems, supported out of the box are Windows LM hashes, plus lots of other hashes and ciphers in the community-enhanced version.<br /><br /></div><div style="line-height: 100%; margin-bottom: 0in;"><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-WGf9KhJiN40/U9TiU7AzjFI/AAAAAAAAAzc/Az5kBdT-y0k/s1600/jtr.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://1.bp.blogspot.com/-WGf9KhJiN40/U9TiU7AzjFI/AAAAAAAAAzc/Az5kBdT-y0k/s1600/jtr.png" height="180" width="200" /></a></div><span style="line-height: 100%;">Today we are going to show you how to compile John the Ripper to use all of your processors (we will talk about compiling for NVIDIA GPUs later).</span></div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="line-height: 100%; margin-bottom: 0in;">First you should visit Openwall's site and <a href="http://www.openwall.com/john/" target="_blank">download the John the Ripper</a> source code. I recommend getting the <i>community-enhanced</i><span style="font-style: normal;"> version since it contains support for many other hashes and ciphers. As of this writing, the current version of the community edition is 1.7.9.</span></div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="margin-bottom: 0in;"><span style="font-style: normal; line-height: 100%;">You also need to install a compiler and ssl. On Ubuntu systems, you can just install the </span><i style="line-height: 100%;">build-</i><span style="line-height: 16px;"><i>essential</i></span><span style="line-height: 100%;">&nbsp;package, and </span><i style="line-height: 100%;">libssl-dev</i><span style="font-style: normal; line-height: 100%;">.</span></div><div style="line-height: 100%; margin-bottom: 0in;"><span style="font-style: normal;"><code>sudo apt-get install build-essential libssl-dev</code></span></div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="font-style: normal; line-height: 100%; margin-bottom: 0in;">Download and verify the version suitable for your platform. In this example I am compiling on Linux Mint 17 (Ubuntu Trusty).</div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="font-style: normal; line-height: 100%; margin-bottom: 0in;">Extract the tar:</div><div style="font-style: normal; line-height: 100%; margin-bottom: 0in;"><code>tar -xvf john*.tar.gz</code></div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="font-style: normal; line-height: 100%; margin-bottom: 0in;">Enter the newly created directory into the “run” directory:</div><div style="line-height: 100%; margin-bottom: 0in;"><code>cd john*/src</code></div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="line-height: 100%; margin-bottom: 0in;"><b>Important: </b><span style="font-weight: normal;">This step enables parallel-processing in John using <a href="http://openmp.org/" target="_blank">OpenMP</a>.</span></div><div style="font-weight: normal; line-height: 100%; margin-bottom: 0in;"><code>nano Makefile</code></div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="font-weight: normal; line-height: 100%; margin-bottom: 0in;">Remove the # before</div><div style="font-weight: normal; line-height: 100%; margin-bottom: 0in;">OMPFLAGS = -fopenmp</div><div style="font-weight: normal; line-height: 100%; margin-bottom: 0in;">and</div><div style="font-weight: normal; line-height: 100%; margin-bottom: 0in;">OMPFLAGS = -fopenmp -msse2</div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="line-height: 100%; margin-bottom: 0in;">Now save, and close.</div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="line-height: 100%; margin-bottom: 0in;">Type “<code>make | more</code>” and choose the type of system that you are using. I am running a 64bit version of Linux, so I will choose <i>linux-x86-64-native</i>. If you have a 32 bit system, make sure to choose x86. If you don't know what to choose then “generic” will probably work for you.</div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="line-height: 100%; margin-bottom: 0in;">Once you have edited the Makefile, and picked the system to compile for, then build the program:</div><div style="line-height: 100%; margin-bottom: 0in;"><code>make clean linux-x86-64-native</code></div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="line-height: 100%; margin-bottom: 0in;">On multi-processor systems you can also add -j5 where 5 is the number of processors on your system.</div><div style="line-height: 100%; margin-bottom: 0in;"><code>make clean linux-x86-64-native -j5</code></div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="line-height: 100%; margin-bottom: 0in;">Once the process is done – if it had no errors – then the binaries will be in the 'run' directory.</div><div style="line-height: 100%; margin-bottom: 0in;"><code>cd ../run</code></div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="line-height: 100%; margin-bottom: 0in;">You can test it by running <code>./john --test</code></div><div style="line-height: 100%; margin-bottom: 0in;"><br /></div><div style="line-height: 100%; margin-bottom: 0in;"><b>Troubleshooting</b></div><br /><div style="line-height: 100%; margin-bottom: 0in;">If there was an error building, try building “generic”. If it works, then you probably chose the wrong build options.</div>